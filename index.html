<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Averon Store</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#0f0f0f">
<meta name="robots" content="noindex">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui;
  background:#0f0f0f;
  color:white;
}

/* HEADER */
header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:18px 24px;
  border-bottom:1px solid #1f1f1f;
}

.logo{
  display:flex;
  align-items:center;
  gap:12px;
}

.logo-icon{
  width:38px;
  height:38px;
  border-radius:10px;
  background:linear-gradient(135deg,#ff6a00,#ff9800);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
}

h1{margin:0;font-size:20px}

/* BUTTONS */
button{
  background:#ff6a00;
  color:black;
  border:none;
  padding:10px 18px;
  border-radius:20px;
  font-weight:700;
  cursor:pointer;
}

button.secondary{
  background:#2a2a2a;
  color:white;
}

.icon-btn{
  background:#2a2a2a;
  color:white;
  padding:10px;
  border-radius:50%;
  width:40px;
  height:40px;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* MAIN */
main{
  padding:24px;
}

.notice{
  text-align:center;
  color:#aaa;
  margin-top:40px;
}

/* APPS GRID */
.apps{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:16px;
  margin-top:30px;
}

.card{
  background:#181818;
  border-radius:16px;
  padding:18px;
  border:1px solid #262626;
  display:flex;
  flex-direction:column;
  gap:14px;
}

.app-img{
  width:100%;
  height:140px;
  border-radius:12px;
  background-size:cover;
  background-position:center;
}

.app-name{
  font-size:18px;
  font-weight:700;
}

.actions{
  margin-top:auto;
}
</style>
</head>

<body>

<header>
  <div class="logo">
    <div class="logo-icon">A</div>
    <h1>Averon Store</h1>
  </div>

  <div>
    <button id="loginBtn" onclick="location.href='auth.html'">Connexion</button>

    <button id="profileBtn" class="icon-btn" style="display:none"
      onclick="location.href='profile.html'">
      <i class="fa-solid fa-user"></i>
    </button>
  </div>
</header>

<main>

  <div id="privateNotice" class="notice">
    ðŸ”’ Averon Store est privÃ©. Connectez-vous pour voir les applications.
  </div>

  <div id="appsSection" style="display:none">
    <h2>Applications disponibles</h2>

    <div class="apps">

     <!-- LUMIO CARD -->
<div class="card">
  <img src="Lumio.png" alt="Lumio" class="app-img">
  
  <div class="app-name">Lumio</div>

  <div class="actions">
    <button onclick="location.href='install.html'">Voir</button>
  </div>
</div>

    </div>
  </div>

</main>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyB5BDmDEAhYthXogNEV2MalFL0fno7G_l8",
  authDomain: "averon-store.firebaseapp.com",
  projectId: "averon-store",
  appId: "1:405353616020:web:5c1b7dd2dca374a4119a81"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

const loginBtn = document.getElementById("loginBtn");
const profileBtn = document.getElementById("profileBtn");
const appsSection = document.getElementById("appsSection");
const privateNotice = document.getElementById("privateNotice");

onAuthStateChanged(auth, user => {
  if(user){
    loginBtn.style.display = "none";
    profileBtn.style.display = "flex";
    appsSection.style.display = "block";
    privateNotice.style.display = "none";
  }else{
    loginBtn.style.display = "inline-block";
    profileBtn.style.display = "none";
    appsSection.style.display = "none";
    privateNotice.style.display = "block";
  }
});
</script>

</body>
</html>
